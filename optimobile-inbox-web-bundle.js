!function(){"use strict";var e,o,t,n,i={21:function(e,o,t){var n=t(601),i=t.n(n),a=t(314),r=t.n(a)()(i());r.push([e.id,':root,:host{--optimove_inbox_font_family_default: "Roboto";--optimove_inbox_z_index_default: 2000;--optimove_inbox_z_index_1_default: 2001;--optimove_inbox_z_index_2_default: 2002;--optimove_inbox_z_index_3_default: 2003;--optimove_inbox_z_index_4_default: 2004;--optimove_inbox_background_color_default: #e0e0e0;--optimove_inbox_width_default: 305px;--optimove_inbox_height_default: 100%;--optimove_inbox_padding_default: 12px;--optimove_inbox_padding_top_default: var(--optimove_inbox_padding, 17px);--optimove_inbox_margin_top_default: 0px;--optimove_inbox_margin_bottom_default: 0px;--optimove_inbox_margin_horizontal_default: 0px;--optimove_inbox_vertical_align_default: start;--optimove_inbox_header_background_color_default: #546e7a;--optimove_inbox_header_font_weight_default: bold;--optimove_inbox_header_text_font_size_default: 14px;--optimove_inbox_header_text_color_default: #ffffff;--optimove_inbox_header_bell_background_default: transparent;--optimove_inbox_header_bell_fill_default: var(--optimove_inbox_header_text_color_default);--optimove_inbox_header_close_button_background_default: transparent;--optimove_inbox_header_close_button_fill_default: var(--optimove_inbox_header_text_color_default);--optimove_inbox_message_bottom_margin_default: 12px;--optimove_inbox_message_background_read_default: #ffffff;--optimove_inbox_message_background_unread_default: #e6f7ff;--optimove_inbox_message_border_radius_default: 2px;--optimove_inbox_message_images_border_radius_default: 2px;--optimove_inbox_message_images_small_width_default: 40px;--optimove_inbox_message_images_small_height_default: 40px;--optimove_inbox_message_images_small_border_radius_default: 8px;--optimove_inbox_message_default_media_color_default: #546e7a;--optimove_inbox_message_title_font_weight_default: medium;--optimove_inbox_message_title_font_size_default: 0.9em;--optimove_inbox_message_title_font_color_default: black;--optimove_inbox_message_title_padding_bottom_default: 8px;--optimove_inbox_message_content_font_size_default: 0.8em;--optimove_inbox_message_font_weight_default: medium;--optimove_inbox_message_font_color_default: #37474f;--optimove_inbox_message_action_button_border_default: none;--optimove_inbox_message_action_button_color_default: #7a8f99;--optimove_inbox_message_action_button_background_color_default: transparent;--optimove_inbox_message_action_button_text_font_family_default: var(--optimove_inbox_font_family, var(--optimove_inbox_font_family_default));--optimove_inbox_message_action_button_text_font_size_default: 9px;--optimove_inbox_action_menu_background_color_default: #fff;--optimove_inbox_action_menu_color_default: #455a63;--optimove_inbox_action_menu_hover_color_default: #49555b;--optimove_inbox_action_menu_hover_scale_default: scale(1.05);--optimove_inbox_action_menu_hover_transition_default: 0.3s;--optimove_inbox_action_menu_hover_opacity_default: 0.9;--optimove_inbox_action_menu_font_family_default: var(--optimove_inbox_font_family, var(--optimove_inbox_font_family_default));--optimove_inbox_action_menu_font_size_default: inherit;--optimove_inbox_action_menu_icon_size_default: 16px;--optimove_inbox_action_menu_icon_padding_default: 8px;--optimove_inbox_badge_position_default: fixed;--optimove_inbox_badge_left_default: auto;--optimove_inbox_badge_top_default: auto;--optimove_inbox_badge_right_default: 0px;--optimove_inbox_badge_bottom_default: 0px;--optimove_inbox_badge_margin_size_default: 10px;--optimove_inbox_badge_width_default: 58px;--optimove_inbox_badge_height_default: 58px;--optimove_inbox_badge_margin_default: var(--optimove_inbox_badge_margin_size_default) var(--optimove_inbox_badge_margin_size_default) var(--optimove_inbox_badge_margin_size_default) var(--optimove_inbox_badge_margin_size_default);--optimove_inbox_badge_background_color_default: #546e7a;--optimove_inbox_badge_bell_color_default: #ffffff;--optimove_inbox_badge_border_radius_default: 50%;--optimove_inbox_badge_border_default: none;--optimove_inbox_badge_transform_default: scale(1);--optimove_inbox_badge_transform_origin_default: center;--optimove_inbox_badge_alert_left_space_from_edge_default: 8px;--optimove_inbox_badge_alert_width_default: 20px;--optimove_inbox_badge_alert_height_default: 20px;--optimove_inbox_badge_alert_background_color_default: #29AFED;--optimove_inbox_badge_alert_font_color_default: #ffffff;--optimove_inbox_badge_alert_font_size_default: 0.8rem;--optimove_inbox_badge_alert_border_radius_default: 50%;--optimove_inbox_badge_alert_border_default: none}#optimobile-inbox-ui-root-inbox--right{box-sizing:border-box;width:var(--optimove_inbox_width, var(--optimove_inbox_width_default));position:fixed;top:0;bottom:0;right:0;margin-top:var(--optimove_inbox_margin_top, var(--optimove_inbox_margin_top_default));margin-bottom:var(--optimove_inbox_margin_bottom, var(--optimove_inbox_margin_bottom_default));margin-right:var(--optimove_inbox_margin_horizontal, var(--optimove_inbox_margin_horizontal_default));z-index:var(--optimove_inbox_z_index_1, var(--optimove_inbox_z_index_1_default));display:flex;flex-direction:column;justify-content:var(--optimove_inbox_vertical_align, var(--optimove_inbox_vertical_align_default))}#optimobile-inbox-ui-root-inbox--right .optimobile-inbox-inner-wrapper{height:var(--optimove_inbox_height, var(--optimove_inbox_height_default));display:flex;flex-direction:column}#optimobile-inbox-ui-root-inbox--left{box-sizing:border-box;width:var(--optimove_inbox_width, var(--optimove_inbox_width_default));position:fixed;top:0;bottom:0;left:0;margin-top:var(--optimove_inbox_margin_top, var(--optimove_inbox_margin_top_default));margin-bottom:var(--optimove_inbox_margin_bottom, var(--optimove_inbox_margin_bottom_default));margin-left:var(--optimove_inbox_margin_horizontal, var(--optimove_inbox_margin_horizontal_default));z-index:var(--optimove_inbox_z_index_1, var(--optimove_inbox_z_index_1_default));display:flex;flex-direction:column;justify-content:var(--optimove_inbox_vertical_align, var(--optimove_inbox_vertical_align_default))}#optimobile-inbox-ui-root-inbox--left .optimobile-inbox-inner-wrapper{height:var(--optimove_inbox_height, var(--optimove_inbox_height_default));display:flex;flex-direction:column}@media only screen and (max-width: 600px){#optimobile-inbox-ui-root-inbox--left{width:100%;margin:0}#optimobile-inbox-ui-root-inbox--left .optimobile-inbox-inner-wrapper{height:100%}#optimobile-inbox-ui-root-inbox--right{width:100%;margin:0}#optimobile-inbox-ui-root-inbox--right .optimobile-inbox-inner-wrapper{height:100%}}.optimobile-inbox-wrapper{position:relative;height:100%;width:100%;padding:12px}.optimobile-inbox-inner-wrapper{font-family:var(--optimove_inbox_font_family, var(--optimove_inbox_font_family_default))}.optimobile-inbox-default-media-large{fill:var(--optimove_inbox_message_default_media_color, var(--optimove_inbox_message_default_media_color_default));height:56px;width:56px;margin-top:59px;margin-bottom:60px;opacity:1;border-radius:5px}.optimobile-inbox-preview-image-large{background-color:#b0bec5}.optimobile-message-inbox{box-sizing:border-box;position:relative;background-color:var(--optimove_inbox_background_color, var(--optimove_inbox_background_color_default));opacity:1;top:0;width:100%;height:100%;display:flex;align-content:center;flex-direction:column;justify-content:stretch;padding:var(--optimove_inbox_padding, var(--optimove_inbox_padding_default));overflow-y:auto;padding-top:var(--optimove_inbox_padding_top, var(--optimove_inbox_padding_top_default));z-index:var(--optimove_inbox_z_index_1, var(--optimove_inbox_z_index_1_default))}.optimobile-inbox-message{position:relative;box-sizing:border-box;border-radius:var(--optimove_inbox_message_border_radius, var(--optimove_inbox_message_border_radius_default));width:100%;margin-bottom:var(--optimove_inbox_message_bottom_margin, var(--optimove_inbox_message_bottom_margin_default));opacity:1;padding-bottom:12px}.optimobile-inbox-message--read{background:var(--optimove_inbox_message_background_read, var(--optimove_inbox_message_background_read_default))}.optimobile-inbox-message--unread{background:var(--optimove_inbox_message_background_unread, var(--optimove_inbox_message_background_unread_default))}.optimobile-inbox-message-linkable{display:flex}a.optimobile-inbox-message-linkable{text-decoration:none}a.optimobile-inbox-message-linkable:hover{text-decoration:underline}.optimobile-inbox-message--large{padding:0;padding-bottom:12px}.optimobile-inbox-message--large .optimobile-inbox-message-linkable{flex-direction:column}.optimobile-inbox-message--small .optimobile-inbox-message-linkable{padding-top:12px;padding-left:12px}.optimobile-inbox-message--small .optimobile-inbox-message-title{margin-top:4px}.optimobile-inbox-message-action-button button{display:inline-flex;border:var(--optimove_inbox_message_action_button_border, var(--optimove_inbox_message_action_button_border_default));padding:2px 4px;margin:0;text-decoration:none;cursor:pointer;text-align:center;-webkit-appearance:none;-moz-appearance:none;position:relative;background-color:var(--optimove_inbox_action_menu_background_color, var(--optimove_inbox_action_menu_background_color_default))}.optimobile-inbox-message-action-button .kebab-button{padding-top:4px;padding-bottom:0px;fill:var(--optimove_inbox_message_action_button_color, var(--optimove_inbox_message_action_button_color_default));background-color:var(--optimove_inbox_message_action_button_background_color, var(--optimove_inbox_message_action_button_background_color_default))}.optimobile-inbox-message-action-button button:active{transform:scale(0.8)}.optimobile-inbox-message-action-menu-row:hover>*{opacity:var(--optimove_inbox_action_menu_hover_opacity, var(--optimove_inbox_action_menu_hover_opacity_default));transform:var(--optimove_inbox_action_menu_hover_scale, var(--optimove_inbox_action_menu_hover_scale_default))}.optimobile-inbox-message-text{flex:1;display:flex;flex-direction:column;padding-left:12px;padding-right:12px}.optimobile-inbox-message-images-large{max-width:100%;width:100%;border-top-left-radius:var(--optimove_inbox_message_images_border_radius, var(--optimove_inbox_message_images_border_radius_default));border-top-right-radius:var(--optimove_inbox_message_images_border_radius, var(--optimove_inbox_message_images_border_radius_default));margin-bottom:12px;display:flex;align-items:center;flex-direction:column}.optimobile-inbox-message-images-small{display:flex;width:var(--optimove_inbox_message_images_small_width, var(--optimove_inbox_message_images_small_width_default));height:var(--optimove_inbox_message_images_small_height, var(--optimove_inbox_message_images_small_height_default));min-width:40px;min-height:40px;align-content:flex-start;object-fit:cover;border-radius:var(--optimove_inbox_message_images_small_border_radius, var(--optimove_inbox_message_images_small_border_radius_default))}.optimobile-inbox-message-title{font-weight:var(--optimove_inbox_message_title_font_weight, var(--optimove_inbox_message_title_font_weight_default));font-size:var(--optimove_inbox_message_title_font_size, var(--optimove_inbox_message_title_font_size_default));color:var(--optimove_inbox_message_title_font_color, var(--optimove_inbox_message_title_font_color_default));padding-bottom:var(--optimove_inbox_message_title_padding_bottom, var(--optimove_inbox_message_title_padding_bottom_default));text-decoration:none;overflow-wrap:anywhere;white-space:pre-wrap}.optimobile-inbox-message-content{font-weight:var(--optimove_inbox_message_font_weight, var(--optimove_inbox_message_font_weight_default));color:var(--optimove_inbox_message_font_color, var(--optimove_inbox_message_font_color_default));font-size:var(--optimove_inbox_message_content_font_size, var(--optimove_inbox_message_content_font_size_default));opacity:80%;text-decoration:none;overflow-wrap:anywhere;white-space:pre-wrap;margin:0}.optimobile-inbox-message-action-menu{position:relative;display:inline-block;right:20px;background-color:var(--optimove_inbox_action_menu_background_color, var(--optimove_inbox_action_menu_background_color_default));width:182px;box-shadow:2px 2px rgba(0,0,0,.1607843137);padding-top:3px;padding-top:8px;padding-bottom:3px;z-index:var(--optimove_inbox_z_index_2, var(--optimove_inbox_z_index_2_default));justify-content:space-between;align-items:center;bottom:10px;font-size:9px;cursor:pointer}.optimobile-inbox-message-action-menu-row{display:inline-flex;width:182px;align-items:center;z-index:var(--optimove_inbox_z_index_3, var(--optimove_inbox_z_index_3_default));font-family:var(--optimove_inbox_action_menu_font_family, var(--optimove_inbox_action_menu_font_family_default));font-size:var(--optimove_inbox_action_menu_font_size, var(--optimove_inbox_action_menu_font_size_default));color:var(--optimove_inbox_action_menu_color, var(--optimove_inbox_action_menu_color_default));fill:var(--optimove_inbox_action_menu_color, var(--optimove_inbox_action_menu_color_default))}.optimobile-inbox-message-action-menu-row>*{transition:var(--optimove_inbox_action_menu_hover_transition, var(--optimove_inbox_action_menu_hover_transition_default))}.optimobile-inbox-message-action-menu-row .row-icon{height:var(--optimove_inbox_action_menu_icon_size, var(--optimove_inbox_action_menu_icon_size_default));width:var(--optimove_inbox_action_menu_icon_size, var(--optimove_inbox_action_menu_icon_size_default));padding:var(--optimove_inbox_action_menu_icon_padding, var(--optimove_inbox_action_menu_icon_padding_default))}.optimobile-inbox-message-action-menu-row:hover{color:var(--optimove_inbox_action_menu_hover_color, var(--optimove_inbox_action_menu_hover_color_default));fill:var(--optimove_inbox_action_menu_hover_color, var(--optimove_inbox_action_menu_hover_color_default))}.message-time{padding-inline:5px;font-size:var(--optimove_inbox_message_action_button_text_font_size, var(--optimove_inbox_message_action_button_text_font_size_default));font-family:var(--optimove_inbox_message_action_button_text_font_family, var(--optimove_inbox_message_action_button_text_font_family_default));color:var(--optimove_inbox_message_action_button_color, var(--optimove_inbox_message_action_button_color_default))}.message-footer{display:flex;flex-direction:row;justify-content:flex-end;align-items:center;padding-top:11px;padding-right:12px}.optimobile-inbox-ui-root-badge{margin:20px;position:absolute;top:5%}.optimobile-inbox-header{background-color:var(--optimove_inbox_header_background_color, var(--optimove_inbox_header_background_color_default));width:100%;height:36px;font-weight:var(--optimove_inbox_header_font_weight, var(--optimove_inbox_header_font_weight_default));font-size:var(--optimove_inbox_header_text_font_size, var(--optimove_inbox_header_text_font_size_default));color:var(--optimove_inbox_header_text_color, var(--optimove_inbox_header_text_color_default));top:0px;align-items:center;position:relative;display:flex;flex-direction:row;flex-shrink:0}.optimobile-header-close-button{line-height:0;padding:0;border:none;margin-right:10px;background-color:var(--optimove_inbox_header_close_button_background, var(--optimove_inbox_header_close_button_background_default));fill:var(--optimove_inbox_header_close_button_fill, var(--optimove_inbox_header_close_button_fill_default))}.optimobile-header-close-button:hover{cursor:pointer}.optimobile-inbox-header-text{flex-grow:1;color:var(--optimove_inbox_header_text_color, var(--optimove_inbox_header_text_color_default))}.optimobile-inbox-bell{margin-left:12px;margin-right:6px;line-height:0;background:var(--optimove_inbox_header_bell_background, var(--optimove_inbox_header_bell_background_default));fill:var(--optimove_inbox_header_bell_fill, var(--optimove_inbox_header_bell_fill_default))}.optimobile-inbox-default-media{display:flex;flex-direction:row;position:relative;width:18px;height:18px;fill:var(--optimove_inbox_message_default_media_color, var(--optimove_inbox_message_default_media_color_default));align-self:auto;padding:10px}.optimobile-inbox-badge-container{position:var(--optimove_inbox_badge_position, var(--optimove_inbox_badge_position_default));left:var(--optimove_inbox_badge_left, var(--optimove_inbox_badge_left_default));top:var(--optimove_inbox_badge_top, var(--optimove_inbox_badge_top_default));right:var(--optimove_inbox_badge_right, var(--optimove_inbox_badge_right_default));bottom:var(--optimove_inbox_badge_bottom, var(--optimove_inbox_badge_bottom_default));width:calc(var(--optimove_inbox_badge_width, var(--optimove_inbox_badge_width_default)) + var(--optimove_inbox_badge_margin_size, var(--optimove_inbox_badge_margin_size_default))*2);height:calc(var(--optimove_inbox_badge_height, var(--optimove_inbox_badge_height_default)) + var(--optimove_inbox_badge_margin_size, var(--optimove_inbox_badge_margin_size_default))*2);z-index:var(--optimove_inbox_z_index, var(--optimove_inbox_z_index_default));overflow:hidden;display:flex;align-items:center;justify-content:center}.optimobile-inbox-badge-container:hover{cursor:pointer}.optimobile-inbox-badge{position:var(--optimove_inbox_badge_position, var(--optimove_inbox_badge_position_default));width:calc(var(--optimove_inbox_badge_width, var(--optimove_inbox_badge_width_default)));height:calc(var(--optimove_inbox_badge_height, var(--optimove_inbox_badge_height_default)));left:var(--optimove_inbox_badge_alert_left, var(--optimove_inbox_badge_alert_left_default));top:var(--optimove_inbox_badge_alert_top, var(--optimove_inbox_badge_alert_top_default));right:var(--optimove_inbox_badge_alert_right, var(--optimove_inbox_badge_alert_right_default));bottom:var(--optimove_inbox_badge_alert_bottom, var(--optimove_inbox_badge_alert_bottom_default));background-color:var(--optimove_inbox_badge_background_color, var(--optimove_inbox_badge_background_color_default));border-radius:var(--optimove_inbox_badge_border_radius, var(--optimove_inbox_badge_border_radius_default));border:var(--optimove_inbox_badge_border, var(--optimove_inbox_badge_border_default));z-index:var(--optimove_inbox_z_index, var(--optimove_inbox_z_index_default));margin:var(--optimove_inbox_padding_default, var(--optimove_inbox_padding_default_default));overflow:hidden;display:flex;align-items:center;justify-content:center}.optimobile-inbox-badge:hover{cursor:pointer}.optimobile-inbox-badge-notification-container{position:absolute;width:calc(var(--optimove_inbox_badge_width, var(--optimove_inbox_badge_width_default)) + var(--optimove_inbox_badge_margin_size, var(--optimove_inbox_badge_margin_size_default))*2);height:calc(var(--optimove_inbox_badge_height, var(--optimove_inbox_badge_height_default)) + var(--optimove_inbox_badge_margin_size, var(--optimove_inbox_badge_margin_size_default))*2)}.optimobile-inbox-badge-notification{position:absolute;width:var(--optimove_inbox_badge_alert_width, var(--optimove_inbox_badge_alert_width_default));height:var(--optimove_inbox_badge_alert_height, var(--optimove_inbox_badge_alert_height_default));background-color:var(--optimove_inbox_badge_alert_background_color, var(--optimove_inbox_badge_alert_background_color_default));border-radius:var(--optimove_inbox_badge_alert_border_radius, var(--optimove_inbox_badge_alert_border_radius_default));border:var(--optimove_inbox_badge_alert_border, var(--optimove_inbox_badge_alert_border_default));z-index:var(--optimove_inbox_z_index_1, var(--optimove_inbox_z_index_1_default));color:var(--optimove_inbox_badge_alert_font_color, var(--optimove_inbox_badge_alert_font_color_default));font-size:var(--optimove_inbox_badge_alert_font_size, var(--optimove_inbox_badge_alert_font_size_default));overflow:hidden;display:flex;align-items:center;justify-content:center;line-height:18px;font-family:Roboto}.optimobile-inbox-badge-notification.none{display:none;transition:display 2s}.optimobile-inbox-badge-notification.top-left{left:var(--optimove_inbox_badge_alert_left_space_from_edge, var(--optimove_inbox_badge_alert_left_space_from_edge_default));top:var(--optimove_inbox_badge_alert_left_space_from_edge, var(--optimove_inbox_badge_alert_left_space_from_edge_default));right:auto;bottom:auto}.optimobile-inbox-badge-notification.top-right{left:auto;top:var(--optimove_inbox_badge_alert_left_space_from_edge, var(--optimove_inbox_badge_alert_left_space_from_edge_default));right:var(--optimove_inbox_badge_alert_left_space_from_edge, var(--optimove_inbox_badge_alert_left_space_from_edge_default));bottom:auto}.optimobile-inbox-badge-notification.bottom-left{left:var(--optimove_inbox_badge_alert_left_space_from_edge, var(--optimove_inbox_badge_alert_left_space_from_edge_default));top:auto;right:auto;bottom:var(--optimove_inbox_badge_alert_left_space_from_edge, var(--optimove_inbox_badge_alert_left_space_from_edge_default))}.optimobile-inbox-badge-notification.bottom-right{left:auto;top:auto;right:var(--optimove_inbox_badge_alert_left_space_from_edge, var(--optimove_inbox_badge_alert_left_space_from_edge_default));bottom:var(--optimove_inbox_badge_alert_left_space_from_edge, var(--optimove_inbox_badge_alert_left_space_from_edge_default))}.optimobile-inbox-default-badge{display:flex;transform:scale(0.5)}.optimobile-inbox-default-badge svg{fill:var(--optimove_inbox_badge_bell_color, var(--optimove_inbox_badge_bell_color_default))}.optimobile-inbox-badge-img{width:100%;height:auto;transform:var(--optimove_inbox_badge_transform, var(--optimove_inbox_badge_transform_default));transform-origin:var(--optimove_inbox_badge_transform_origin, var(--optimove_inbox_badge_transform_origin_default));z-index:var(--optimove_inbox_z_index, var(--optimove_inbox_z_index_default))}.optimobile-message-inbox-state{position:relative;top:40%;justify-content:center;display:flex;font-size:1em;z-index:var(--optimove_inbox_z_index_1, var(--optimove_inbox_z_index_1_default))}#optimobile-inbox-loader{position:relative;top:40%;justify-content:center;display:flex}.optimobile-inbox-message-text .preview-mention{border:1.5px dashed #4cb9ea;border-radius:2px;margin:0 1px}',""]),o.A=r},314:function(e){e.exports=function(e){var o=[];return o.toString=function(){return this.map((function(o){var t="",n="undefined"!=typeof o[5];return o[4]&&(t+="@supports (".concat(o[4],") {")),o[2]&&(t+="@media ".concat(o[2]," {")),n&&(t+="@layer".concat(o[5].length>0?" ".concat(o[5]):""," {")),t+=e(o),n&&(t+="}"),o[2]&&(t+="}"),o[4]&&(t+="}"),t})).join("")},o.i=function(e,t,n,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(n)for(var _=0;_<this.length;_++){var l=this[_][0];null!=l&&(r[l]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);n&&r[u[0]]||("undefined"!=typeof a&&("undefined"==typeof u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),t&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=t):u[2]=t),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),o.push(u))}},o}},601:function(e){e.exports=function(e){return e[1]}}},a={};function r(e){var o=a[e];if(void 0!==o)return o.exports;var t=a[e]={id:e,exports:{}};return i[e](t,t.exports,r),t.exports}r.m=i,r.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(o,{a:o}),o},r.d=function(e,o){for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(o,t){return r.f[t](e,o),o}),[]))},r.u=function(e){return"html-sanitization-bundle.js"},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},e={},o="@optimove-inc/web-sdk:",r.l=function(t,n,i,a){if(e[t])e[t].push(n);else{var _,l;if(void 0!==i)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var c=s[u];if(c.getAttribute("src")==t||c.getAttribute("data-webpack")==o+i){_=c;break}}_||(l=!0,(_=document.createElement("script")).charset="utf-8",_.timeout=120,r.nc&&_.setAttribute("nonce",r.nc),_.setAttribute("data-webpack",o+i),_.src=t),e[t]=[n];var d=function(o,n){_.onerror=_.onload=null,clearTimeout(p);var i=e[t];if(delete e[t],_.parentNode&&_.parentNode.removeChild(_),i&&i.forEach((function(e){return e(n)})),o)return o(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:_}),12e4);_.onerror=d.bind(null,_.onerror),_.onload=d.bind(null,_.onload),l&&document.head.appendChild(_)}},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;r.g.importScripts&&(e=r.g.location+"");var o=r.g.document;if(!e&&o&&(o.currentScript&&"SCRIPT"===o.currentScript.tagName.toUpperCase()&&(e=o.currentScript.src),!e)){var t=o.getElementsByTagName("script");if(t.length)for(var n=t.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=t[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e}(),function(){var e={708:0};r.f.j=function(o,t){var n=r.o(e,o)?e[o]:void 0;if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,i){n=e[o]=[t,i]}));t.push(n[2]=i);var a=r.p+r.u(o),_=new Error;r.l(a,(function(t){if(r.o(e,o)&&(0!==(n=e[o])&&(e[o]=void 0),n)){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;_.message="Loading chunk "+o+" failed.\n("+i+": "+a+")",_.name="ChunkLoadError",_.type=i,_.request=a,n[1](_)}}),"chunk-"+o,o)}};var o=function(o,t){var n,i,a=t[0],_=t[1],l=t[2],s=0;if(a.some((function(o){return 0!==e[o]}))){for(n in _)r.o(_,n)&&(r.m[n]=_[n]);if(l)l(r)}for(o&&o(t);s<a.length;s++)i=a[s],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},t=self.optimoveChunkWebpack=self.optimoveChunkWebpack||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}(),function(e){e[e.None=0]="None",e[e.Scheduled=1]="Scheduled",e[e.Triggered=2]="Triggered"}(t||(t={})),function(e){e[e.Small=0]="Small",e[e.Large=1]="Large"}(n||(n={}));var _,l,s,u,c,d,p,f,m,b,v,g="embedded-message.clicked",h={},x=[],y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,w=Array.isArray;function k(e,o){for(var t in o)e[t]=o[t];return e}function I(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function E(e,o,t){var n,i,a,r={};for(a in o)"key"==a?n=o[a]:"ref"==a?i=o[a]:r[a]=o[a];if(arguments.length>2&&(r.children=arguments.length>3?_.call(arguments,2):t),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===r[a]&&(r[a]=e.defaultProps[a]);return C(e,r,n,i,null)}function C(e,o,t,n,i){var a={type:e,props:o,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==i?++s:i,__i:-1,__u:0};return null==i&&null!=l.vnode&&l.vnode(a),a}function M(e){return e.children}function S(e,o){this.props=e,this.context=o}function z(e,o){if(null==o)return e.__?z(e.__,e.__i+1):null;for(var t;o<e.__k.length;o++)if(null!=(t=e.__k[o])&&null!=t.__e)return t.__e;return"function"==typeof e.type?z(e):null}function O(e){var o,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,o=0;o<e.__k.length;o++)if(null!=(t=e.__k[o])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return O(e)}}function R(e){(!e.__d&&(e.__d=!0)&&u.push(e)&&!A.__r++||c!==l.debounceRendering)&&((c=l.debounceRendering)||d)(A)}function A(){var e,o,t,n,i,a,r,_;for(u.sort(p);e=u.shift();)e.__d&&(o=u.length,n=void 0,a=(i=(t=e).__v).__e,r=[],_=[],t.__P&&((n=k({},i)).__v=i.__v+1,l.vnode&&l.vnode(n),U(t.__P,n,i,t.__n,t.__P.namespaceURI,32&i.__u?[a]:null,r,null==a?z(i):a,!!(32&i.__u),_),n.__v=i.__v,n.__.__k[n.__i]=n,V(r,n,_),n.__e!=a&&O(n)),u.length>o&&u.sort(p));A.__r=0}function P(e,o,t,n,i,a,r,_,l,s,u){var c,d,p,f,m,b,v=n&&n.__k||x,g=o.length;for(l=T(t,o,v,l),c=0;c<g;c++)null!=(p=t.__k[c])&&(d=-1===p.__i?h:v[p.__i]||h,p.__i=c,b=U(e,p,d,i,a,r,_,l,s,u),f=p.__e,p.ref&&d.ref!=p.ref&&(d.ref&&W(d.ref,null,p),u.push(p.ref,p.__c||f,p)),null==m&&null!=f&&(m=f),4&p.__u||d.__k===p.__k?l=N(p,l,e):"function"==typeof p.type&&void 0!==b?l=b:f&&(l=f.nextSibling),p.__u&=-7);return t.__e=m,l}function T(e,o,t,n){var i,a,r,_,l,s=o.length,u=t.length,c=u,d=0;for(e.__k=[],i=0;i<s;i++)null!=(a=o[i])&&"boolean"!=typeof a&&"function"!=typeof a?(_=i+d,(a=e.__k[i]="string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?C(null,a,null,null,null):w(a)?C(M,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?C(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,r=null,-1!==(l=a.__i=L(a,t,_,c))&&(c--,(r=t[l])&&(r.__u|=2)),null==r||null===r.__v?(-1==l&&d--,"function"!=typeof a.type&&(a.__u|=4)):l!==_&&(l==_-1?d--:l==_+1?d++:(l>_?d--:d++,a.__u|=4))):a=e.__k[i]=null;if(c)for(i=0;i<u;i++)null!=(r=t[i])&&!(2&r.__u)&&(r.__e==n&&(n=z(r)),q(r,r));return n}function N(e,o,t){var n,i;if("function"==typeof e.type){for(n=e.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=e,o=N(n[i],o,t));return o}e.__e!=o&&(o&&e.type&&!t.contains(o)&&(o=z(e)),t.insertBefore(e.__e,o||null),o=e.__e);do{o=o&&o.nextSibling}while(null!=o&&8===o.nodeType);return o}function D(e,o){return o=o||[],null==e||"boolean"==typeof e||(w(e)?e.some((function(e){D(e,o)})):o.push(e)),o}function L(e,o,t,n){var i=e.key,a=e.type,r=t-1,_=t+1,l=o[t];if(null===l||l&&i==l.key&&a===l.type&&!(2&l.__u))return t;if(("function"!=typeof a||a===M||i)&&n>(null==l||2&l.__u?0:1))for(;r>=0||_<o.length;){if(r>=0){if((l=o[r])&&!(2&l.__u)&&i==l.key&&a===l.type)return r;r--}if(_<o.length){if((l=o[_])&&!(2&l.__u)&&i==l.key&&a===l.type)return _;_++}}return-1}function H(e,o,t){"-"===o[0]?e.setProperty(o,null==t?"":t):e[o]=null==t?"":"number"!=typeof t||y.test(o)?t:t+"px"}function j(e,o,t,n,i){var a;e:if("style"===o)if("string"==typeof t)e.style.cssText=t;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(o in n)t&&o in t||H(e.style,o,"");if(t)for(o in t)n&&t[o]===n[o]||H(e.style,o,t[o])}else if("o"===o[0]&&"n"===o[1])a=o!==(o=o.replace(f,"$1")),o=o.toLowerCase()in e||"onFocusOut"===o||"onFocusIn"===o?o.toLowerCase().slice(2):o.slice(2),e.l||(e.l={}),e.l[o+a]=t,t?n?t.u=n.u:(t.u=m,e.addEventListener(o,a?v:b,a)):e.removeEventListener(o,a?v:b,a);else{if("http://www.w3.org/2000/svg"==i)o=o.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=o&&"height"!=o&&"href"!=o&&"list"!=o&&"form"!=o&&"tabIndex"!=o&&"download"!=o&&"rowSpan"!=o&&"colSpan"!=o&&"role"!=o&&"popover"!=o&&o in e)try{e[o]=null==t?"":t;break e}catch(e){}"function"==typeof t||(null==t||!1===t&&"-"!==o[4]?e.removeAttribute(o):e.setAttribute(o,"popover"==o&&1==t?"":t))}}function B(e){return function(o){if(this.l){var t=this.l[o.type+e];if(null==o.t)o.t=m++;else if(o.t<t.u)return;return t(l.event?l.event(o):o)}}}function U(e,o,t,n,i,a,r,_,s,u){var c,d,p,f,m,b,v,g,h,x,y,E,C,z,O,R,A,T=o.type;if(void 0!==o.constructor)return null;128&t.__u&&(s=!!(32&t.__u),a=[_=o.__e=t.__e]),(c=l.__b)&&c(o);e:if("function"==typeof T)try{if(g=o.props,h="prototype"in T&&T.prototype.render,x=(c=T.contextType)&&n[c.__c],y=c?x?x.props.value:c.__:n,t.__c?v=(d=o.__c=t.__c).__=d.__E:(h?o.__c=d=new T(g,y):(o.__c=d=new S(g,y),d.constructor=T,d.render=Z),x&&x.sub(d),d.props=g,d.state||(d.state={}),d.context=y,d.__n=n,p=d.__d=!0,d.__h=[],d._sb=[]),h&&null==d.__s&&(d.__s=d.state),h&&null!=T.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=k({},d.__s)),k(d.__s,T.getDerivedStateFromProps(g,d.__s))),f=d.props,m=d.state,d.__v=o,p)h&&null==T.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),h&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(h&&null==T.getDerivedStateFromProps&&g!==f&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(g,y),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(g,d.__s,y)||o.__v===t.__v)){for(o.__v!==t.__v&&(d.props=g,d.state=d.__s,d.__d=!1),o.__e=t.__e,o.__k=t.__k,o.__k.some((function(e){e&&(e.__=o)})),E=0;E<d._sb.length;E++)d.__h.push(d._sb[E]);d._sb=[],d.__h.length&&r.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(g,d.__s,y),h&&null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(f,m,b)}))}if(d.context=y,d.props=g,d.__P=e,d.__e=!1,C=l.__r,z=0,h){for(d.state=d.__s,d.__d=!1,C&&C(o),c=d.render(d.props,d.state,d.context),O=0;O<d._sb.length;O++)d.__h.push(d._sb[O]);d._sb=[]}else do{d.__d=!1,C&&C(o),c=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++z<25);d.state=d.__s,null!=d.getChildContext&&(n=k(k({},n),d.getChildContext())),h&&!p&&null!=d.getSnapshotBeforeUpdate&&(b=d.getSnapshotBeforeUpdate(f,m)),_=P(e,w(R=null!=c&&c.type===M&&null==c.key?c.props.children:c)?R:[R],o,t,n,i,a,r,_,s,u),d.base=o.__e,o.__u&=-161,d.__h.length&&r.push(d),v&&(d.__E=d.__=null)}catch(e){if(o.__v=null,s||null!=a)if(e.then){for(o.__u|=s?160:128;_&&8===_.nodeType&&_.nextSibling;)_=_.nextSibling;a[a.indexOf(_)]=null,o.__e=_}else for(A=a.length;A--;)I(a[A]);else o.__e=t.__e,o.__k=t.__k;l.__e(e,o,t)}else null==a&&o.__v===t.__v?(o.__k=t.__k,o.__e=t.__e):_=o.__e=F(t.__e,o,t,n,i,a,r,s,u);return(c=l.diffed)&&c(o),128&o.__u?void 0:_}function V(e,o,t){for(var n=0;n<t.length;n++)W(t[n],t[++n],t[++n]);l.__c&&l.__c(o,e),e.some((function(o){try{e=o.__h,o.__h=[],e.some((function(e){e.call(o)}))}catch(e){l.__e(e,o.__v)}}))}function F(e,o,t,n,i,a,r,s,u){var c,d,p,f,m,b,v,g=t.props,x=o.props,y=o.type;if("svg"===y?i="http://www.w3.org/2000/svg":"math"===y?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=a)for(c=0;c<a.length;c++)if((m=a[c])&&"setAttribute"in m==!!y&&(y?m.localName===y:3===m.nodeType)){e=m,a[c]=null;break}if(null==e){if(null===y)return document.createTextNode(x);e=document.createElementNS(i,y,x.is&&x),s&&(l.__m&&l.__m(o,a),s=!1),a=null}if(null===y)g===x||s&&e.data===x||(e.data=x);else{if(a=a&&_.call(e.childNodes),g=t.props||h,!s&&null!=a)for(g={},c=0;c<e.attributes.length;c++)g[(m=e.attributes[c]).name]=m.value;for(c in g)if(m=g[c],"children"==c);else if("dangerouslySetInnerHTML"==c)p=m;else if(!(c in x)){if("value"==c&&"defaultValue"in x||"checked"==c&&"defaultChecked"in x)continue;j(e,c,null,m,i)}for(c in x)m=x[c],"children"==c?f=m:"dangerouslySetInnerHTML"==c?d=m:"value"==c?b=m:"checked"==c?v=m:s&&"function"!=typeof m||g[c]===m||j(e,c,m,g[c],i);if(d)s||p&&(d.__html===p.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),o.__k=[];else if(p&&(e.innerHTML=""),P(e,w(f)?f:[f],o,t,n,"foreignObject"===y?"http://www.w3.org/1999/xhtml":i,a,r,a?a[0]:t.__k&&z(t,0),s,u),null!=a)for(c=a.length;c--;)I(a[c]);s||(c="value","progress"===y&&null==b?e.removeAttribute("value"):void 0!==b&&(b!==e[c]||"progress"===y&&!b||"option"===y&&b!==g[c])&&j(e,c,b,g[c],i),c="checked",void 0!==v&&v!==e[c]&&j(e,c,v,g[c],i))}return e}function W(e,o,t){try{if("function"==typeof e){var n="function"==typeof e.__u;n&&e.__u(),n&&null==o||(e.__u=e(o))}else e.current=o}catch(e){l.__e(e,t)}}function q(e,o,t){var n,i;if(l.unmount&&l.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||W(n,null,o)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){l.__e(e,o)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&q(n[i],o,t||"function"!=typeof e.type);t||I(e.__e),e.__c=e.__=e.__e=void 0}function Z(e,o,t){return this.constructor(e,t)}function $(e,o,t){var n,i,a,r;o===document&&(o=document.documentElement),l.__&&l.__(e,o),i=(n="function"==typeof t)?null:t&&t.__k||o.__k,a=[],r=[],U(o,e=(!n&&t||o).__k=E(M,null,[e]),i||h,h,o.namespaceURI,!n&&t?[t]:i?null:o.firstChild?_.call(o.childNodes):null,a,!n&&t?t:i?i.__e:o.firstChild,n,r),V(a,e,r)}_=x.slice,l={__e:function(e,o,t,n){for(var i,a,r;o=o.__;)if((i=o.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),r=i.__d),r)return i.__E=i}catch(o){e=o}throw e}},s=0,S.prototype.setState=function(e,o){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=k({},this.state),"function"==typeof e&&(e=e(k({},t),this.props)),e&&k(t,e),null!=e&&this.__v&&(o&&this._sb.push(o),R(this))},S.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),R(this))},S.prototype.render=M,u=[],d="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,p=function(e,o){return e.__v.__b-o.__v.__b},A.__r=0,f=/(PointerCapture)$|Capture$/i,m=0,b=B(!1),v=B(!0);var G,J,X=0,K=1,Y=2,Q=3;function ee(e){if(null!=e.image)return e.onClick,E("div",{class:"optimobile-inbox-badge-container"},E("div",{class:"optimobile-inbox-badge",onClick:e.onClick,"data-testid":"inbox-badge"},E("img",{class:"optimobile-inbox-badge-img",src:e.image,"data-testid":"inbox-badge-image"})),o());function o(){var o="";switch(e.notificationPosition){case X:o="top-left";break;case K:o="top-right";break;case Y:o="bottom-left";break;case Q:o="bottom-right";break;default:o="top-right"}if(null==e.unreadMessageCount||!1===e.showAlert)return null;e.unreadMessageCount<=0&&(o="none");var t=e.unreadMessageCount.toString();return e.unreadMessageCount>9&&(t="9+"),E("div",{class:"optimobile-inbox-badge-notification-container"},E("div",{class:"optimobile-inbox-badge-notification "+o},t))}return e.onClick,E("div",{class:"optimobile-inbox-badge-container"},E("div",{class:"optimobile-inbox-badge",onClick:e.onClick,"data-testid":"inbox-badge"},E("div",{class:"optimobile-inbox-default-badge"},E("svg",{xmlns:"http://www.w3.org/2000/svg",height:"58px",viewBox:"0 0 24 24",width:"58px",fill:"#FFF"},E("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})))),o())}!function(e){e.LOCAL="local",e.ALSO_EU="eu-central-1",e.EU="eu-central-2",e.US="us-east-1",e.DEV="uk-1"}(J||(J={}));var oe,te,ne=((G={})[J.LOCAL]="localhost",G[J.DEV]="dev",G[J.EU]="eu",G[J.US]="us",G[J.ALSO_EU]="eu",G),ie=function(){function e(){}return e.getInboxRestApiBaseUrl=function(e){if(e.region==J.LOCAL)return"http://localhost:5236";if(e.url)return e.url;var o=ne[e.region];return"https://optimobile-inbox-srv-".concat(o,".optimove.net")},e}();!function(e){e.INBOX="inbox"}(oe||(oe={})),function(e){e.GET_EMBEDDED="get",e.EVENT_REPORT="report",e.MEDIA_RESIZER="media-resizer",e.MEDIA_CDN="media-cdn"}(te||(te={}));var ae=function(){function e(e){var o,t,n,i,a;this.customerId=e.customerId,this.tenantId=e.tenantId,this.brandId=e.brandId,this.features=null!==(o=e.features)&&void 0!==o?o:[oe.INBOX],this.apiVersion=e.apiVersion||"v1",this.styles=e.styles,this.useBadge=e.useBadge||!1,this.badgeImage=e.badgeImage,this.position=e.position||"right",this.region=e.region,this.defaultMediaImage=e.defaultMediaImage,this.badgeInjectionAtId=e.badgeInjectionAtId,e.alertSettings?this.badgeAlertOptions={badgeShowIndicator:null!==(t=e.alertSettings.showIndicator)&&void 0!==t&&t,indicatorLocation:null!==(n=e.alertSettings.indicatorLocation)&&void 0!==n?n:K,textColor:null!==(i=e.alertSettings.textColor)&&void 0!==i?i:void 0,backgroundColor:null!==(a=e.alertSettings.backgroundColor)&&void 0!==a?a:void 0}:this.badgeAlertOptions={badgeShowIndicator:!1,indicatorLocation:K,textColor:void 0,backgroundColor:void 0},this.setupMap(e)}return e.prototype.setupMap=function(e){var o,t=ie.getInboxRestApiBaseUrl(e);this.urlMap=((o={})[te.GET_EMBEDDED]="".concat(t,"/api/v2/embedded-messages/get"),o[te.EVENT_REPORT]="".concat(t,"/api/v2/events/report"),o[te.MEDIA_RESIZER]=e.region===J.LOCAL?"http://i-eu-central-1.app.local/70,fit/storage/":"https://i-".concat(e.region,".app.delivery"),o[te.MEDIA_CDN]=e.region===J.LOCAL?"http://media-cdn-eu-central-1.app.local":"https://media-cdn-".concat(e.region,".app.delivery"),o)},e}();var re,_e,le,se,ue=r(21),ce=0,de=[],pe=l,fe=pe.__b,me=pe.__r,be=pe.diffed,ve=pe.__c,ge=pe.unmount,he=pe.__;function xe(e,o){pe.__h&&pe.__h(_e,e,ce||o),ce=0;var t=_e.__H||(_e.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function ye(e){return ce=1,we(Ne,e)}function we(e,o,t){var n=xe(re++,2);if(n.t=e,!n.__c&&(n.__=[t?t(o):Ne(void 0,o),function(e){var o=n.__N?n.__N[0]:n.__[0],t=n.t(o,e);o!==t&&(n.__N=[t,n.__[1]],n.__c.setState({}))}],n.__c=_e,!_e.u)){var i=function(e,o,t){if(!n.__c.__H)return!0;var i=n.__c.__H.__.filter((function(e){return!!e.__c}));if(i.every((function(e){return!e.__N})))return!a||a.call(this,e,o,t);var r=n.__c.props!==e;return i.forEach((function(e){if(e.__N){var o=e.__[0];e.__=e.__N,e.__N=void 0,o!==e.__[0]&&(r=!0)}})),a&&a.call(this,e,o,t)||r};_e.u=!0;var a=_e.shouldComponentUpdate,r=_e.componentWillUpdate;_e.componentWillUpdate=function(e,o,t){if(this.__e){var n=a;a=void 0,i(e,o,t),a=n}r&&r.call(this,e,o,t)},_e.shouldComponentUpdate=i}return n.__N||n.__}function ke(e,o){var t=xe(re++,3);!pe.__s&&Te(t.__H,o)&&(t.__=e,t.i=o,_e.__H.__h.push(t))}function Ie(e,o){var t=xe(re++,4);!pe.__s&&Te(t.__H,o)&&(t.__=e,t.i=o,_e.__h.push(t))}function Ee(e){return ce=5,Me((function(){return{current:e}}),[])}function Ce(e,o,t){ce=6,Ie((function(){return"function"==typeof e?(e(o()),function(){return e(null)}):e?(e.current=o(),function(){return e.current=null}):void 0}),null==t?t:t.concat(e))}function Me(e,o){var t=xe(re++,7);return Te(t.__H,o)&&(t.__=e(),t.__H=o,t.__h=e),t.__}function Se(e,o){return ce=8,Me((function(){return e}),o)}function ze(){for(var e;e=de.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Ae),e.__H.__h.forEach(Pe),e.__H.__h=[]}catch(o){e.__H.__h=[],pe.__e(o,e.__v)}}pe.__b=function(e){_e=null,fe&&fe(e)},pe.__=function(e,o){e&&o.__k&&o.__k.__m&&(e.__m=o.__k.__m),he&&he(e,o)},pe.__r=function(e){me&&me(e),re=0;var o=(_e=e.__c).__H;o&&(le===_e?(o.__h=[],_e.__h=[],o.__.forEach((function(e){e.__N&&(e.__=e.__N),e.i=e.__N=void 0}))):(o.__h.forEach(Ae),o.__h.forEach(Pe),o.__h=[],re=0)),le=_e},pe.diffed=function(e){be&&be(e);var o=e.__c;o&&o.__H&&(o.__H.__h.length&&(1!==de.push(o)&&se===pe.requestAnimationFrame||((se=pe.requestAnimationFrame)||Re)(ze)),o.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.i=void 0}))),le=_e=null},pe.__c=function(e,o){o.some((function(e){try{e.__h.forEach(Ae),e.__h=e.__h.filter((function(e){return!e.__||Pe(e)}))}catch(t){o.some((function(e){e.__h&&(e.__h=[])})),o=[],pe.__e(t,e.__v)}})),ve&&ve(e,o)},pe.unmount=function(e){ge&&ge(e);var o,t=e.__c;t&&t.__H&&(t.__H.__.forEach((function(e){try{Ae(e)}catch(e){o=e}})),t.__H=void 0,o&&pe.__e(o,t.__v))};var Oe="function"==typeof requestAnimationFrame;function Re(e){var o,t=function(){clearTimeout(n),Oe&&cancelAnimationFrame(o),setTimeout(e)},n=setTimeout(t,100);Oe&&(o=requestAnimationFrame(t))}function Ae(e){var o=_e,t=e.__c;"function"==typeof t&&(e.__c=void 0,t()),_e=o}function Pe(e){var o=_e;e.__c=e.__(),_e=o}function Te(e,o){return!e||e.length!==o.length||o.some((function(o,t){return o!==e[t]}))}function Ne(e,o){return"function"==typeof o?o(e):o}function De(e,o){for(var t in e)if("__source"!==t&&!(t in o))return!0;for(var n in o)if("__source"!==n&&e[n]!==o[n])return!0;return!1}function Le(e,o){this.props=e,this.context=o}(Le.prototype=new S).isPureReactComponent=!0,Le.prototype.shouldComponentUpdate=function(e,o){return De(this.props,e)||De(this.state,o)};var He=l.__b;l.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),He&&He(e)};var je="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Be(e){function o(o){if(!("ref"in o))return e(o,null);var t=o.ref;delete o.ref;var n=e(o,t);return o.ref=t,n}return o.$$typeof=je,o.render=o,o.prototype.isReactComponent=o.__f=!0,o.displayName="ForwardRef("+(e.displayName||e.name)+")",o}var Ue=l.__e;l.__e=function(e,o,t,n){if(e.then)for(var i,a=o;a=a.__;)if((i=a.__c)&&i.__c)return null==o.__e&&(o.__e=t.__e,o.__k=t.__k),i.__c(e,o);Ue(e,o,t,n)};var Ve=l.unmount;function Fe(e,o,t){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=function(e,o){for(var t in o)e[t]=o[t];return e}({},e)).__c&&(e.__c.__P===t&&(e.__c.__P=o),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return Fe(e,o,t)}))),e}function We(e,o,t){return e&&t&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return We(e,o,t)})),e.__c&&e.__c.__P===o&&(e.__e&&t.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=t)),e}function qe(){this.__u=0,this.o=null,this.__b=null}function Ze(e){var o=e.__.__c;return o&&o.__a&&o.__a(e)}function $e(){this.i=null,this.l=null}l.unmount=function(e){var o=e.__c;o&&o.__R&&o.__R(),o&&32&e.__u&&(e.type=null),Ve&&Ve(e)},(qe.prototype=new S).__c=function(e,o){var t=o.__c,n=this;null==n.o&&(n.o=[]),n.o.push(t);var i=Ze(n.__v),a=!1,r=function(){a||(a=!0,t.__R=null,i?i(_):_())};t.__R=r;var _=function(){if(! --n.__u){if(n.state.__a){var e=n.state.__a;n.__v.__k[0]=We(e,e.__c.__P,e.__c.__O)}var o;for(n.setState({__a:n.__b=null});o=n.o.pop();)o.forceUpdate()}};n.__u++||32&o.__u||n.setState({__a:n.__b=n.__v.__k[0]}),e.then(r,r)},qe.prototype.componentWillUnmount=function(){this.o=[]},qe.prototype.render=function(e,o){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=Fe(this.__b,t,n.__O=n.__P)}this.__b=null}var i=o.__a&&E(M,null,e.fallback);return i&&(i.__u&=-33),[E(M,null,o.__a?null:e.children),i]};var Ge=function(e,o,t){if(++t[1]===t[0]&&e.l.delete(o),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(t=e.i;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;e.i=t=t[2]}};($e.prototype=new S).__a=function(e){var o=this,t=Ze(o.__v),n=o.l.get(e);return n[0]++,function(i){var a=function(){o.props.revealOrder?(n.push(i),Ge(o,e,n)):i()};t?t(a):a()}},$e.prototype.render=function(e){this.i=null,this.l=new Map;var o=D(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&o.reverse();for(var t=o.length;t--;)this.l.set(o[t],this.i=[1,0,this.i]);return e.children},$e.prototype.componentDidUpdate=$e.prototype.componentDidMount=function(){var e=this;this.l.forEach((function(o,t){Ge(e,t,o)}))};var Je="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Xe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ke=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ye=/[A-Z0-9]/g,Qe="undefined"!=typeof document,eo=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};S.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(S.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(o){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:o})}})}));var oo=l.event;function to(){}function no(){return this.cancelBubble}function io(){return this.defaultPrevented}l.event=function(e){return oo&&(e=oo(e)),e.persist=to,e.isPropagationStopped=no,e.isDefaultPrevented=io,e.nativeEvent=e};var ao={enumerable:!1,configurable:!0,get:function(){return this.class}},ro=l.vnode;l.vnode=function(e){"string"==typeof e.type&&function(e){var o=e.props,t=e.type,n={},i=-1===t.indexOf("-");for(var a in o){var r=o[a];if(!("value"===a&&"defaultValue"in o&&null==r||Qe&&"children"===a&&"noscript"===t||"class"===a||"className"===a)){var _=a.toLowerCase();"defaultValue"===a&&"value"in o&&null==o.value?a="value":"download"===a&&!0===r?r="":"translate"===_&&"no"===r?r=!1:"o"===_[0]&&"n"===_[1]?"ondoubleclick"===_?a="ondblclick":"onchange"!==_||"input"!==t&&"textarea"!==t||eo(o.type)?"onfocus"===_?a="onfocusin":"onblur"===_?a="onfocusout":Ke.test(a)&&(a=_):_=a="oninput":i&&Xe.test(a)?a=a.replace(Ye,"-$&").toLowerCase():null===r&&(r=void 0),"oninput"===_&&n[a=_]&&(a="oninputCapture"),n[a]=r}}"select"==t&&n.multiple&&Array.isArray(n.value)&&(n.value=D(o.children).forEach((function(e){e.props.selected=-1!=n.value.indexOf(e.props.value)}))),"select"==t&&null!=n.defaultValue&&(n.value=D(o.children).forEach((function(e){e.props.selected=n.multiple?-1!=n.defaultValue.indexOf(e.props.value):n.defaultValue==e.props.value}))),o.class&&!o.className?(n.class=o.class,Object.defineProperty(n,"className",ao)):(o.className&&!o.class||o.class&&o.className)&&(n.class=n.className=o.className),e.props=n}(e),e.$$typeof=Je,ro&&ro(e)};var _o=l.__r;l.__r=function(e){_o&&_o(e),e.__c};var lo=l.diffed;l.diffed=function(e){lo&&lo(e);var o=e.props,t=e.__e;null!=t&&"textarea"===e.type&&"value"in o&&o.value!==t.value&&(t.value=null==o.value?"":o.value)};function so(){return"undefined"==typeof crypto?"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var o=16*Math.random()|0;return("x"==e?o:3&o|8).toString(16)})):(1e7.toString()+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(Number(e)^crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(e)/4).toString(16)}))}var uo,co=(uo=function(e,o){return uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])},uo(e,o)},function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function t(){this.constructor=e}uo(e,o),e.prototype=null===o?Object.create(o):(t.prototype=o.prototype,new t)}),po=function(){return po=Object.assign||function(e){for(var o,t=1,n=arguments.length;t<n;t++)for(var i in o=arguments[t])Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);return e},po.apply(this,arguments)},fo=function(e,o,t,n){return new(t||(t=Promise))((function(i,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function _(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var o;e.done?i(e.value):(o=e.value,o instanceof t?o:new t((function(e){e(o)}))).then(r,_)}l((n=n.apply(e,o||[])).next())}))},mo=function(e,o){var t,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:_(0),throw:_(1),return:_(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function _(_){return function(l){return function(_){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,_[0]&&(r=0)),r;)try{if(t=1,n&&(i=2&_[0]?n.return:_[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,_[1])).done)return i;switch(n=0,i&&(_=[2&_[0],i.value]),_[0]){case 0:case 1:i=_;break;case 4:return r.label++,{value:_[1],done:!1};case 5:r.label++,n=_[1],_=[0];continue;case 7:_=r.ops.pop(),r.trys.pop();continue;default:if(!(i=r.trys,(i=i.length>0&&i[i.length-1])||6!==_[0]&&2!==_[0])){r=0;continue}if(3===_[0]&&(!i||_[1]>i[0]&&_[1]<i[3])){r.label=_[1];break}if(6===_[0]&&r.label<i[1]){r.label=i[1],i=_;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(_);break}i[2]&&r.ops.pop(),r.trys.pop();continue}_=o.call(e,r)}catch(e){_=[6,e],n=0}finally{t=i=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,l])}}};function bo(e,o,t){var n;void 0===t&&(t={method:"GET"});var i=null!==(n=t.headers)&&void 0!==n?n:{};return t.headers=po(po({"Content-Type":"application/json",Accept:"application/json"},o?{Authorization:o}:{}),i),fetch(e,t)}var vo=function(e){function o(o,t){return e.call(this,"fetch failed: ".concat(o,", ").concat(t))||this}return co(o,e),o}(Error);function go(e,o,t){return bo(e,o,t).then((function(e){if(!e.ok)throw new vo(e.status,e.statusText);return e.json()}))}function ho(e,o,t){return fo(this,void 0,void 0,(function(){var n;return mo(this,(function(i){switch(i.label){case 0:return o||t?[4,yo(e,o,t,[{containerId:"Inbox",limit:50}])]:[2,[]];case 1:return(n=i.sent()).Inbox?(n.Inbox.messages.forEach((function(e){e.executionDateTime&&(e.executionDateTime=new Date(Date.parse(e.executionDateTime)))})),[2,n.Inbox.messages]):[2,[]]}}))}))}function xo(e,o,t){return fo(this,void 0,void 0,(function(){var n;return mo(this,(function(i){switch(i.label){case 0:return[4,ho(e,o,t)];case 1:return(n=i.sent()).forEach((function(o){o.media=Mo(e.urlMap[te.MEDIA_RESIZER],e.urlMap[te.MEDIA_CDN],e.region,o.media)})),[2,n]}}))}))}function yo(e,o,t,n){return fo(this,void 0,void 0,(function(){var i,a,r;return mo(this,(function(_){switch(_.label){case 0:return o||t?(i=function(e,o,t,n,i){var a=new URL(e);return n&&a.searchParams.append("CustomerId",n),i&&a.searchParams.append("VisitorId",i),a.searchParams.append("TenantId",o.toString()),a.searchParams.append("BrandId",t),a.searchParams.append("LocalTimeOffset",(new Date).getTimezoneOffset().toString()),a}(e.urlMap[te.GET_EMBEDDED],e.tenantId,e.brandId,o,t),[4,go(i.toString(),void 0,{method:"POST",body:JSON.stringify(n)})]):[2,{}];case 1:return a=_.sent(),r={},Object.entries(a.containers).forEach((function(e){var o=e[0],t=e[1];r[o]={containerId:o,messages:t}})),[2,r]}}))}))}function wo(e,o){var t=new URL(e.urlMap[te.EVENT_REPORT]),n={uuid:so(),timestamp:(new Date).toISOString(),eventType:"embedded-message.deleted",customerId:e.customerId,context:{messageId:o.id,containerId:o.containerId}};return t.searchParams.set("tenantId",e.tenantId.toString()),t.searchParams.set("brandId",e.brandId),bo(t.toString(),void 0,{method:"POST",body:JSON.stringify([n])})}function ko(e,o,t){var n,i=new URL(e.urlMap[te.EVENT_REPORT]);i.searchParams.set("tenantId",e.tenantId.toString()),i.searchParams.set("brandId",e.brandId);var a=new Date;t?(n="embedded-message.read",(new Date).getTime()):n="embedded-message.unread";var r={uuid:so(),timestamp:a.toISOString(),eventType:n,customerId:o.customerId,context:{messageId:o.id,containerId:o.containerId}};return bo(i.toString(),void 0,{method:"POST",body:JSON.stringify([r])})}function Io(e,o){var t=new URL(e.urlMap[te.EVENT_REPORT]);t.searchParams.set("tenantId",e.tenantId.toString()),t.searchParams.set("brandId",e.brandId);var n={uuid:so(),timestamp:(new Date).toISOString(),customerId:o.customerId,eventType:g,context:{messageId:o.id,containerId:o.containerId}};return bo(t.toString(),void 0,{method:"POST",body:JSON.stringify([n]),keepalive:!0})}function Eo(e,o,t,i,a){if(null==i||""===i)return"";if(0===i.indexOf("https://")||0===i.indexOf("http://"))return i;var r=function(e){if(e===n.Large)return{width:"364",height:"180"};return{width:"150",height:"fit"}}(a);return t===J.LOCAL?"".concat(e,"/").concat(i):-1===i.indexOf(".gif")?"".concat(e,"/").concat(r.width,"x").concat(r.height,"/").concat(i):"".concat(o,"/").concat(i)}function Co(e,o){var t,n;if(!o)return o;if(!(null===(t=e.urlMap)||void 0===t?void 0:t[te.MEDIA_RESIZER])||!(null===(n=e.urlMap)||void 0===n?void 0:n[te.MEDIA_CDN]))throw new Error("Required media endpoints not found in config");return Mo(e.urlMap[te.MEDIA_RESIZER],e.urlMap[te.MEDIA_CDN],e.region,o)}function Mo(e,o,t,n){return null==n||""===n?"":0===n.indexOf("https://")||0===n.indexOf("http://")?n:t===J.LOCAL?"".concat(e,"/").concat(n):"".concat(o,"/").concat(n)}function So(){return E("svg",{viewBox:"0 0 32 32",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},E("path",{d:"M19 16a3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3zm0 13a3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3zm0-26a3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3z"}))}function zo(e){var o=ye(!1),t=o[0],n=o[1],i=Ee(null),a=Se((function(e){t&&(e.stopImmediatePropagation(),n(!1))}),[t]);return function(e,o){ke((function(){var t=function(t){var n;(null===(n=e.current)||void 0===n?void 0:n.contains(t.composedPath()[0]))||o(t)};return document.addEventListener("click",t,{capture:!0}),function(){document.removeEventListener("click",t,{capture:!0})}}),[e,o])}(i,a),E("div",{ref:i,style:{position:"relative",display:"inline-block"},class:e.class},E("button",{onClick:function(e){e.stopPropagation(),n(!t)},class:"kebab-button","data-testid":"inbox-message-action-menu-button"},E(So,null)),t&&E("div",{style:{position:"absolute",bottom:0,right:0},class:"optimobile-inbox-message-action-menu"},e.items.map((function(o){return E("button",{class:"optimobile-inbox-message-action-menu-row",key:o.label,onClick:function(t){t.stopPropagation(),n(!1),e.onActionClick(o)}},o.icon,E("span",{class:"optimobile-inbox-message-action-menu-text"},o.label))}))))}function Oo(e){return e.layout===n.Small?E("div",{class:"optimobile-inbox-default-media"},E("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},E("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}))):E("div",{class:"optimobile-inbox-default-media-large"},E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},E("path",{d:"M0 0h24v24H0z",fill:"none"}),E("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})))}function Ro(){return E("div",null,E("svg",{xmlns:"http://www.w3.org/2000/svg","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 -960 960 960"},E("path",{d:"M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h404q-4 20-4 40t4 40H160l320 200 146-91q14 13 30.5 22.5T691-572L480-440 160-640v400h640v-324q23-5 43-14t37-22v360q0 33-23.5 56.5T800-160H160Zm0-560v480-480Zm600 80q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35Z"}),E("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),E("line",{x1:"14",y1:"11",x2:"14",y2:"17"})))}var Ao=function(){return Ao=Object.assign||function(e){for(var o,t=1,n=arguments.length;t<n;t++)for(var i in o=arguments[t])Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);return e},Ao.apply(this,arguments)},Po=function(e,o){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)o.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]])}return t};function To(e){var o=e.href,t=e.onInteraction,n=e.children,i=Po(e,["href","onInteraction","children"]);if(null==o||""===o)return E("div",Ao({},i),n);return E("a",Ao({href:o,onClick:t,onMouseUp:function(e){1===e.button&&(null==t||t())},onContextMenu:t},i),n)}function No(){return E("div",null,E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},E("polyline",{points:"3 6 5 6 21 6"}),E("path",{d:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"}),E("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),E("line",{x1:"14",y1:"11",x2:"14",y2:"17"})))}var Do=function(e,o,t,n){return new(t||(t=Promise))((function(i,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function _(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var o;e.done?i(e.value):(o=e.value,o instanceof t?o:new t((function(e){e(o)}))).then(r,_)}l((n=n.apply(e,o||[])).next())}))},Lo=function(e,o){var t,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:_(0),throw:_(1),return:_(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function _(_){return function(l){return function(_){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,_[0]&&(r=0)),r;)try{if(t=1,n&&(i=2&_[0]?n.return:_[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,_[1])).done)return i;switch(n=0,i&&(_=[2&_[0],i.value]),_[0]){case 0:case 1:i=_;break;case 4:return r.label++,{value:_[1],done:!1};case 5:r.label++,n=_[1],_=[0];continue;case 7:_=r.ops.pop(),r.trys.pop();continue;default:if(!(i=r.trys,(i=i.length>0&&i[i.length-1])||6!==_[0]&&2!==_[0])){r=0;continue}if(3===_[0]&&(!i||_[1]>i[0]&&_[1]<i[3])){r.label=_[1];break}if(6===_[0]&&r.label<i[1]){r.label=i[1],i=_;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(_);break}i[2]&&r.ops.pop(),r.trys.pop();continue}_=o.call(e,r)}catch(e){_=[6,e],n=0}finally{t=i=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,l])}}};function Ho(e){return Do(this,void 0,void 0,(function(){return Lo(this,(function(o){switch(o.label){case 0:return[4,r.e(907).then(r.bind(r,912))];case 1:return[2,o.sent().sanitizeHtml(e)]}}))}))}var jo,Bo="Delete",Uo="Mark as read",Vo="Mark as unread";!function(e){e.Read="read",e.Unread="unread"}(jo||(jo={}));var Fo=function(e){var o=!1,t=e.message.media,n=e.defaultMediaImage;return null!=t||null===n&&void 0===n||(t=n),""===t&&(o=!0,t=n),[t,o]};function Wo(e){var o,t,i=[],a={label:Vo,icon:E("div",{class:"row-icon optimobile-inbox-mark-unread"},E(Ro,null))},r={label:Bo,icon:E("div",{class:"row-icon optimobile-inbox-trash-can"},E(No,null))};i.push(a),i.push(r);var _=ye(e.message),l=_[0],s=(_[1],ye("")),u=s[0],c=s[1],d=ye(""),p=d[0],f=d[1],m=ye(!!l.readAt),b=m[0],v=m[1],g=function(){!e.isPreview&&e.message.url&&""!==e.message.url&&e.sendClickMetric(e.message)};function h(){e.deleteMessage(e.message)}var x=Fo(e)[1],y=Fo(e)[0],w=e.message.messageLayoutType,k=function(e){var o=null;o=null!=e.executionDateTime?Date.now()-e.executionDateTime.getTime():Date.now()-e.createdAt;var t=36e5,n=24*t,i=7*n,a=Math.floor(o/6e4),r=Math.floor(o/t),_=Math.floor(o/n),l=Math.floor(o/i);return a<1?"Now":r<1?"".concat(a," Minutes ago"):1===r?"1 Hour ago":r>1&&_<1?"".concat(r," Hours ago"):1===_?"1 Day ago":_>1&&l<1?"".concat(_," Days ago"):1===l?"1 Week ago":l>1?"".concat(l," Weeks ago"):void 0}(l);ke((function(){l.readAt?(c(Vo),f(jo.Read)):(c(Uo),f(jo.Unread))}),[l]);var I=i.indexOf(a);function C(){u===Uo?(e.setMessageReadStatus(l,!0),c(Vo),f(jo.Read)):(e.setMessageReadStatus(l,!1),c(Uo),f(jo.Unread))}i[I].label=u;var M={current:null};!function(e){var o=Ee();ke((function(){var o=function(o){e()};return document.addEventListener("click",o),function(){document.removeEventListener("click",o)}}),[])}((function(){}));var S=function(e){var o=ye(!1),t=o[0],n=o[1],i=ye(!1),a=i[0],r=i[1];return ke((function(){var o=new IntersectionObserver((function(e){var o=e[0];return n(o.isIntersecting)}));return o.observe(e.current),function(){o.disconnect()}}),[e]),ke((function(){if(t){var e=setTimeout((function(){r(!0)}),500);return function(){clearTimeout(e)}}r(!1)}),[t]),a}(M);return!S||l.readAt||b||(v(!0),e.setMessageReadStatus(l,!0)),w===n.Large?E("div",{ref:M,class:"optimobile-inbox-message optimobile-inbox-message--".concat(p," optimobile-inbox-message--large"),"data-testid":"message-component-root"},E(To,{href:e.message.url,onInteraction:g,class:"optimobile-inbox-message-linkable"},x?E("div",{class:"optimobile-inbox-message-images-large optimobile-inbox-preview-image-large","data-testid":"inbox-default-media"},E(Oo,{layout:e.message.messageLayoutType})):E("img",{class:"optimobile-inbox-message-images-large",src:y}),E("div",{class:"optimobile-inbox-message-text"},E(qo,{message:e.message,allowHtmlContent:null!==(o=e.allowHtmlContent)&&void 0!==o&&o}))),this.props.isPreview?E("div",{class:"message-footer"}):E("div",{class:"message-footer"},E("div",{class:"message-time"},k),E(zo,{class:"optimobile-inbox-message-action-button",items:i,onActionClick:function(e){Bo===e.label&&h(),Vo!==e.label&&Uo!==e.label||C()}}))):E("div",{ref:M,class:"optimobile-inbox-message optimobile-inbox-message--".concat(p," optimobile-inbox-message--small"),"data-testid":"message-component-root"},E(To,{href:e.message.url,onInteraction:g,class:"optimobile-inbox-message-linkable"},x?E("div",{class:"optimobile-inbox-message-images-small","data-testid":"inbox-default-media"},E(Oo,{layout:w})):E("img",{class:"optimobile-inbox-message-images-small",src:y}),E("div",{class:"optimobile-inbox-message-text"},E(qo,{message:e.message,allowHtmlContent:null!==(t=e.allowHtmlContent)&&void 0!==t&&t}))),this.props.isPreview?E("div",{class:"message-footer"}):E("div",{class:"message-footer"},E("div",{class:"message-time"},k),E(zo,{class:"optimobile-inbox-message-action-button",items:i,onActionClick:function(e){Bo===e.label&&h(),Vo!==e.label&&Uo!==e.label||C()}})))}function qo(e){var o=ye({__html:""}),t=o[0],n=o[1],i=ye({__html:""}),a=i[0],r=i[1];return ke((function(){var o;e.allowHtmlContent&&Ho(null!==(o=e.message.title)&&void 0!==o?o:"").then((function(e){n({__html:e})}))}),[e.message.title,e.allowHtmlContent]),ke((function(){var o;e.allowHtmlContent&&Ho(null!==(o=e.message.content)&&void 0!==o?o:"").then((function(e){r({__html:e})}))}),[e.message.content,e.allowHtmlContent]),e.allowHtmlContent?E(M,null,E("div",{class:"optimobile-inbox-message-title","data-testid":"inbox-message-title",dangerouslySetInnerHTML:t}),E("div",{class:"optimobile-inbox-message-content","data-testid":"inbox-message-content",dangerouslySetInnerHTML:a})):E(M,null,E("div",{class:"optimobile-inbox-message-title","data-testid":"inbox-message-title"},e.message.title),E("div",{class:"optimobile-inbox-message-content","data-testid":"inbox-message-content"},e.message.content))}var Zo=function(){var e=function(o,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])},e(o,t)};return function(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=o}e(o,t),o.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),$o=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return Zo(o,e),o.prototype.render=function(){return E("div",{class:"optimobile-inbox-bell"},E("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",height:"16px",width:"16px"},E("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})))},o}(S),Go=function(){var e=function(o,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])},e(o,t)};return function(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=o}e(o,t),o.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),Jo=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return Go(o,e),o.prototype.render=function(){return E("svg",{xmlns:"http://www.w3.org/2000/svg",height:"18",viewBox:"0 -960 960 960",width:"18"},E("path",{d:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"}))},o}(S);function Xo(e){return E("div",{class:"optimobile-inbox-header"},E($o,null),E("div",{class:"optimobile-inbox-header-text"},"INBOX"),E("button",{class:"optimobile-header-close-button",onClick:e.onClick,"data-testid":"inbox-header-close-button","aria-label":"Close inbox"},E(Jo,null)))}function Ko(){return E("svg",{width:"58",height:"58",viewBox:"0 0 58 58",xmlns:"http://www.w3.org/2000/svg"},E("g",{fill:"none","fill-rule":"evenodd"},E("g",{transform:"translate(2 1)",stroke:"#FFF","stroke-width":"1.5"},E("circle",{cx:"42.601",cy:"11.462",r:"5","fill-opacity":"1",fill:"#fff"},E("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"1;0;0;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"})),E("circle",{cx:"49.063",cy:"27.063",r:"5","fill-opacity":"0",fill:"#fff"},E("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;1;0;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"})),E("circle",{cx:"42.601",cy:"42.663",r:"5","fill-opacity":"0",fill:"#fff"},E("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;1;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"})),E("circle",{cx:"27",cy:"49.125",r:"5","fill-opacity":"0",fill:"#fff"},E("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;1;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"})),E("circle",{cx:"11.399",cy:"42.663",r:"5","fill-opacity":"0",fill:"#fff"},E("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;1;0;0;0",calcMode:"linear",repeatCount:"indefinite"})),E("circle",{cx:"4.938",cy:"27.063",r:"5","fill-opacity":"0",fill:"#fff"},E("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;0;1;0;0",calcMode:"linear",repeatCount:"indefinite"})),E("circle",{cx:"11.399",cy:"11.462",r:"5","fill-opacity":"0",fill:"#fff"},E("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;0;0;1;0",calcMode:"linear",repeatCount:"indefinite"})),E("circle",{cx:"27",cy:"5",r:"5","fill-opacity":"0",fill:"#fff"},E("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;0;0;0;1",calcMode:"linear",repeatCount:"indefinite"})))))}function Yo(e){var o="loading"===e.state;return E("div",{id:"optimobile-inbox-ui-root-inbox--".concat(e.position)},E("div",{class:"optimobile-inbox-inner-wrapper"},E(Xo,{onClick:e.onClick}),E("div",{class:"optimobile-message-inbox"},o&&E("div",{id:"optimobile-inbox-loader","data-testid":"message-container-loading-indicator"},E(Ko,null)),!o&&"success"!==e.state&&E("div",{class:"optimobile-message-inbox-state"},e.state),!o&&"success"===e.state&&E(Qo,{messages:e.messages}))))}function Qo(e){var o=e.messages;return null==o||0===o.length?E("div",{class:"optimobile-message-inbox-state"},"You have no new messages."):E("div",null,o)}var et="loading",ot="success",tt="Error: Failed to load messages",nt="Error: Failed to delete message";function it(e){var o=Array();e.messages.forEach((function(o){o.media=Eo(e.config.urlMap[te.MEDIA_RESIZER],e.config.urlMap[te.MEDIA_CDN],e.config.region,o.media,o.messageLayoutType)}));var t=function(o,t){ko(e.config,o,t),e.handleMessageReadUnreadChanged(o,t)};return o=e.messages.map((function(o){return E(Wo,{key:o.id,message:o,deleteMessage:function(o){return function(o){e.handleMessageDeleteRequest(o)}(o)},setMessageReadStatus:t,sendClickMetric:function(o){return Io(e.config,o)},defaultMediaImage:e.config.defaultMediaImage,allowHtmlContent:e.allowHtmlContent})})),E(Yo,{state:e.state,position:e.config.position,messages:o,onClick:e.onClick})}var at=function(){return at=Object.assign||function(e){for(var o,t=1,n=arguments.length;t<n;t++)for(var i in o=arguments[t])Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);return e},at.apply(this,arguments)},rt=Be((function(e,o){var t,n,i,a,r=ye(!1),_=r[0],l=r[1],s=ye(!1),u=s[0],c=s[1],d=ye(null),p=d[0],f=d[1],m=ye(0),b=m[0],v=m[1],g=ye(et),h=g[0],x=g[1],y=ye(null),w=(y[0],y[1]),k=ye(!1),I=k[0],C=k[1],M=ye(!1),S=M[0],z=M[1],O=ye(e.customerId),R=O[0],A=O[1];ke((function(){var o=!0;return(e.config.useBadge&&!_||S||void 0!==R&&(j()||S)||u&&!_)&&(!function(o){ho(e.config,R,e.visitorId).then((function(e){o&&(f(e),x(ot))})).catch((function(e){x(tt),w(e)}))}(o),e.config.useBadge&&!_?(l(!0),N()):u&&!_&&(l(!0),S||N())),function(){o=!1}}),[e.config.useBadge,_,S,R,u]),ke((function(){var e;j()&&v(null!==(e=null==p?void 0:p.filter((function(e){return null==e.readAt})).length)&&void 0!==e?e:0)}),[p]),Ce(o,(function(){return{showBadge:N,showInbox:D,hideBadge:L,hideInbox:H,setCustomerId:function(o){A(o),null==o||o===e.visitorId?(L(),H()):S?D():N()},setForceOverrideUseBadge:function(e){c(e)}}}));var P=Se((function(){C(!1),z(!0)}),[]),T=Se((function(){z(!1),C(!0)}),[]);function N(){B()?console.warn("Web Inbox customer is not logged in and is not a visitor"):j()&&(z(!1),C(!0))}function D(){B()?console.warn("Web Inbox customer is not logged in and is not a visitor"):(z(!0),C(!1))}function L(){C(!1)}function H(){z(!1)}function j(){return e.config.useBadge&&void 0!==e.config.useBadge||u}function B(){return!R&&!e.visitorId}return E("div",{"data-testid":"inbox-root"},I&&j()&&E(ee,{onClick:P,unreadMessageCount:b,notificationPosition:null!==(n=null===(t=e.config.badgeAlertOptions)||void 0===t?void 0:t.indicatorLocation)&&void 0!==n?n:K,showAlert:null===(a=null===(i=e.config.badgeAlertOptions)||void 0===i?void 0:i.badgeShowIndicator)||void 0===a||a,image:Co(e.config,e.config.badgeImage)}),S&&E(it,{state:h,messages:null!=p?p:[],config:e.config,customerId:R,visitorId:e.visitorId,onClick:T,handleMessageReadUnreadChanged:function(e,o){null!=p&&f(o?function(o){return null==o?null:o.map((function(o){return o.id===e.id?at(at({},o),{readAt:Date.now()}):o}))}:function(o){return null==o?null:o.map((function(o){return o.id===e.id?at(at({},o),{readAt:void 0}):o}))})},handleMessageDeleteRequest:function(o){wo(e.config,o).then((function(){var e;x(ot),f(null!==(e=null==p?void 0:p.filter((function(e){return e.id!=o.id})))&&void 0!==e?e:null)})).catch((function(e){x(nt),w(e)}))}}))})),_t=rt;function lt(){var e="#EEEEEE";return E("div",{class:"optimobile-inbox-message optimobile-inbox-message--read",style:{width:"100%",paddingTop:"12px"}},E("div",{class:"optimobile-inbox-message-images-small",style:{backgroundColor:e,justifyContent:"center",alignItems:"center",fill:"azure",marginLeft:"12px",paddingBottom:0}}),E("div",{class:"optimobile-inbox-message-text"},E("div",{style:{marginTop:"16px",height:"0.8em",width:"60%",backgroundColor:e,marginBottom:"3px"}}),E("div",{style:{height:"0.8em",width:"80%",backgroundColor:e,marginBottom:"3px"}}),E("div",{style:{height:"0.8em",width:"80%",backgroundColor:e,marginBottom:"3px"}})))}function st(e){var o=Array();o=function(e){var o=Array();null!==e.previewMessage.media&&void 0!==e.previewMessage.media||null===e.config.defaultMediaImage&&void 0===e.config.defaultMediaImage?e.previewMessage.media=Eo(e.config.urlMap[te.MEDIA_RESIZER],e.config.urlMap[te.MEDIA_CDN],e.config.region,e.previewMessage.media,e.previewMessage.messageLayoutType):e.previewMessage.media=e.config.defaultMediaImage;return o.push({customerId:"123",containerId:"Inbox",templateId:1,messageLayoutType:e.previewMessage.messageLayoutType||n.Small,title:e.previewMessage.title||"",content:e.previewMessage.content||"",media:e.previewMessage.media,engagementId:"",campaignKind:t.None,id:e.previewMessage.id||"test-id",createdAt:Date.now(),readAt:1234}),o}(e).map((function(o){return E(Wo,{key:o.id,message:o,isPreview:!0,setMessageReadStatus:function(){},deleteMessage:function(){return null},sendClickMetric:function(){return null},allowHtmlContent:e.allowHtmlContent})}));for(var i=E(lt,null),a=0;a<3;a++)o.push(i);return E(Yo,{state:"success",position:e.config.position,messages:o,onClick:function(){return null}})}var ut=[],ct=function(){function e(){var e=this;this.element=document.createElement("div"),this.element.id="optimobile-inbox-ui-root",this.containers=[],function(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)}((function(){return document.body.appendChild(e.element)}))}return e.prototype.createContainer=function(e){var o={name:e,element:document.createElement("div")};return o.element.id="optimobile-inbox-ui-root-".concat(e),this.element.appendChild(o.element),this.containers.push(o),ut.push(o),o},e}(),dt=ct;var pt=function(){return pt=Object.assign||function(e){for(var o,t=1,n=arguments.length;t<n;t++)for(var i in o=arguments[t])Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);return e},pt.apply(this,arguments)},ft=function(e,o,t,n){return new(t||(t=Promise))((function(i,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function _(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var o;e.done?i(e.value):(o=e.value,o instanceof t?o:new t((function(e){e(o)}))).then(r,_)}l((n=n.apply(e,o||[])).next())}))},mt=function(e,o){var t,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:_(0),throw:_(1),return:_(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function _(_){return function(l){return function(_){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,_[0]&&(r=0)),r;)try{if(t=1,n&&(i=2&_[0]?n.return:_[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,_[1])).done)return i;switch(n=0,i&&(_=[2&_[0],i.value]),_[0]){case 0:case 1:i=_;break;case 4:return r.label++,{value:_[1],done:!1};case 5:r.label++,n=_[1],_=[0];continue;case 7:_=r.ops.pop(),r.trys.pop();continue;default:if(!(i=r.trys,(i=i.length>0&&i[i.length-1])||6!==_[0]&&2!==_[0])){r=0;continue}if(3===_[0]&&(!i||_[1]>i[0]&&_[1]<i[3])){r.label=_[1];break}if(6===_[0]&&r.label<i[1]){r.label=i[1],i=_;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(_);break}i[2]&&r.ops.pop(),r.trys.pop();continue}_=o.call(e,r)}catch(e){_=[6,e],n=0}finally{t=i=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([_,l])}}},bt=document.createElement("link");bt.href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&amp;display=swap",bt.rel="stylesheet";var vt=function(){function e(e){var o,t,n,i,a,r,_=this;!function(e){if(e.styles){var o=e.styles.find((function(e){return"--optimove_inbox_z_index"===e.cssVariable}));if(o)for(var t=parseInt(o.cssValue,10),n=function(n){if(isNaN(t))return console.error('Error: Unable to parse z-index value "'.concat(o.cssValue,'" as an integer.')),{value:void 0};var i="--optimove_inbox_z_index_".concat(n),a=e.styles.find((function(e){return e.cssVariable===i}));a?t=parseInt(a.cssValue,10):e.styles.push({cssVariable:i,cssValue:"".concat(++t)})},i=1;i<=4;i++){var a=n(i);if("object"==typeof a)return a.value}}}(e),this.visitorId=e.visitorId,this.customerId=e.customerId;var l=document.getElementById("optimobile-inbox-ui-root-inbox-container");if(this.config=new ae(pt({},e)),this.inboxRootRef={current:null},l)this.config=new ae(pt({},e)),this.inboxRootElement=l;else{var s=(new dt).createContainer("inbox-container");this.inboxRootElement=s.element}this.config=new ae(e),this.config.badgeInjectionAtId&&this.inboxRootElement.style.setProperty("--optimove_inbox_badge_position","none"),(null===(o=this.config.badgeAlertOptions)||void 0===o?void 0:o.textColor)&&(CSS.supports("color",this.config.badgeAlertOptions.textColor)?this.inboxRootElement.style.setProperty("--optimove_inbox_badge_alert_font_color",this.config.badgeAlertOptions.textColor):console.warn("CSS Color does not support value: ".concat(this.config.badgeAlertOptions.textColor))),(null===(t=this.config.badgeAlertOptions)||void 0===t?void 0:t.backgroundColor)&&(CSS.supports("color",this.config.badgeAlertOptions.backgroundColor)?this.inboxRootElement.style.setProperty("--optimove_inbox_badge_alert_background_color",this.config.badgeAlertOptions.backgroundColor):console.warn("CSS Color does not support value: ".concat(this.config.badgeAlertOptions.backgroundColor))),void 0!==this.config.styles&&0!==this.config.styles.length&&this.config.styles.forEach((function(e){_.inboxRootElement.style.setProperty(e.cssVariable,e.cssValue)}));var u=E(_t,{config:this.config,customerId:this.customerId,visitorId:this.visitorId,ref:this.inboxRootRef}),c=null,d=this.config.badgeInjectionAtId;d&&((c=document.getElementById(d))||console.warn("Warning: No div found with ID '".concat(d,"'."))),"undefined"!=typeof this.inboxRootElement.attachShadow&&"open"!==(null===(n=this.inboxRootElement.shadowRoot)||void 0===n?void 0:n.mode)&&this.inboxRootElement.attachShadow({mode:"open"});var p=document.createElement("style");p.innerHTML=ue.A,document.head.appendChild(bt),(null!==(i=this.inboxRootElement.shadowRoot)&&void 0!==i?i:this.inboxRootElement).appendChild(p),$(u,null!==(a=this.inboxRootElement.shadowRoot)&&void 0!==a?a:this.inboxRootElement),c&&c.appendChild(this.inboxRootElement),null===(r=this.inboxRootRef.current)||void 0===r||r.showBadge()}return e.prototype.setCustomerId=function(e){var o,t;this.customerId=e,null!=(null===(o=this.inboxRootRef)||void 0===o?void 0:o.current)&&null!=(null===(t=this.inboxRootRef)||void 0===t?void 0:t.current)&&this.inboxRootRef.current.setCustomerId(e)},e.prototype.showBadge=function(){var e,o;this.customerAndVisitorAreNull()?console.warn("Web Inbox customer is not logged in and is not a visitor"):null===(o=null===(e=this.inboxRootRef)||void 0===e?void 0:e.current)||void 0===o||o.showBadge()},e.prototype.forceEnableBadge=function(){var e,o;null===(o=null===(e=this.inboxRootRef)||void 0===e?void 0:e.current)||void 0===o||o.setForceOverrideUseBadge(!0)},e.prototype.showInbox=function(){var e,o;return ft(this,void 0,void 0,(function(){return mt(this,(function(t){return this.customerAndVisitorAreNull()?(console.warn("Web Inbox customer is not logged in and is not a visitor"),[2]):(null===(o=null===(e=this.inboxRootRef)||void 0===e?void 0:e.current)||void 0===o||o.showInbox(),[2])}))}))},e.prototype.getMessages=function(){return ft(this,void 0,void 0,(function(){var e;return mt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,xo(this.config,this.customerId,this.visitorId)];case 1:return[2,o.sent()];case 2:throw e=o.sent(),console.error("Error fetching messages:",e),e;case 3:return[2]}}))}))},e.prototype.getEmbeddedMessages=function(e){return ft(this,void 0,void 0,(function(){return mt(this,(function(o){switch(o.label){case 0:return[4,yo(this.config,this.customerId,this.visitorId,e)];case 1:return[2,o.sent()]}}))}))},e.prototype.deleteMessage=function(e){return ft(this,void 0,void 0,(function(){var o;return mt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,wo(this.config,e)];case 1:return t.sent(),[3,3];case 2:throw o=t.sent(),console.error("Error deleting message ".concat(e.id),o),o;case 3:return[2]}}))}))},e.prototype.setMessageReadStatus=function(e,o){return ft(this,void 0,void 0,(function(){var t;return mt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,ko(this.config,e,o)];case 1:return n.sent(),[3,3];case 2:throw t=n.sent(),console.error("Error toggling message read status:",t),t;case 3:return[2]}}))}))},e.prototype.sendClickMetric=function(e){return ft(this,void 0,void 0,(function(){var o;return mt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Io(this.config,e)];case 1:return t.sent(),[3,3];case 2:throw o=t.sent(),console.error("Error sending click metric:",o),o;case 3:return[2]}}))}))},e.prototype.showPreviewInbox=function(e,o,i,a,r){var _,l,s;void 0===r&&(r=!1);var u=E(st,{previewMessage:{customerId:"",containerId:"Inbox",templateId:123,messageLayoutType:e||n.Small,title:o,content:i,campaignKind:t.None,engagementId:"",media:a,url:"",id:"testId",createdAt:0},config:this.config,allowHtmlContent:r});if(this.hideBadge(),"undefined"!=typeof this.inboxRootElement.attachShadow&&"open"!==(null===(_=this.inboxRootElement.shadowRoot)||void 0===_?void 0:_.mode)){this.inboxRootElement.attachShadow({mode:"open"});var c=document.createElement("style");c.innerHTML=ue.A,document.head.appendChild(bt),(null!==(l=this.inboxRootElement.shadowRoot)&&void 0!==l?l:this.inboxRootElement).appendChild(c)}$(u,null!==(s=this.inboxRootElement.shadowRoot)&&void 0!==s?s:this.inboxRootElement)},e.prototype.hideInbox=function(){this.showBadge()},e.prototype.hideBadge=function(){var e,o;null===(o=null===(e=this.inboxRootRef)||void 0===e?void 0:e.current)||void 0===o||o.hideBadge()},e.prototype.customerAndVisitorAreNull=function(){return!this.customerId&&!this.visitorId},e}();window.OptimobileInbox=vt}();